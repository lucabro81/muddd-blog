---
import HomeLayout from '../../layouts/HomeLayout.astro';
import { getCollection } from 'astro:content';

const { currentLocale } = Astro;
const allPosts = (await getCollection('blog', ({ data }) => {
	return data.lang === currentLocale;
})).sort((a, b) => new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf());
---

<HomeLayout allPosts={allPosts} />

